!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Swipe=b(),a.Swipe}):"object"==typeof module&&module.exports?module.exports=b():a.Swipe=b()}(this,function(){function c(c,d){"use strict";function w(){m.addEventListener?(n.removeEventListener("touchstart",v,!1),n.removeEventListener("mousedown",v,!1),n.removeEventListener("webkitTransitionEnd",v,!1),n.removeEventListener("msTransitionEnd",v,!1),n.removeEventListener("oTransitionEnd",v,!1),n.removeEventListener("otransitionend",v,!1),n.removeEventListener("transitionend",v,!1),a.removeEventListener("resize",v,!1)):a.onresize=null}function x(){m.addEventListener?(m.touch&&n.addEventListener("touchstart",v,!1),d.draggable&&n.addEventListener("mousedown",v,!1),m.transitions&&(n.addEventListener("webkitTransitionEnd",v,!1),n.addEventListener("msTransitionEnd",v,!1),n.addEventListener("oTransitionEnd",v,!1),n.addEventListener("otransitionend",v,!1),n.addEventListener("transitionend",v,!1)),a.addEventListener("resize",v,!1)):a.onresize=u}function y(){if(o=n.children,r=o.length,o.length<2&&(d.continuous=!1),m.transitions&&d.continuous&&o.length<3){var a=o[0].cloneNode(!0),b=n.children[1].cloneNode(!0);n.appendChild(a),n.appendChild(b),a.setAttribute("data-cloned",!0),b.setAttribute("data-cloned",!0),o=n.children}p=new Array(o.length),q=c.getBoundingClientRect().width||c.offsetWidth,n.style.width=o.length*q*2+"px";for(var e=o.length;e--;){var f=o[e];f.style.width=q+"px",f.setAttribute("data-index",e),m.transitions&&(f.style.left=e*-q+"px",G(e,s>e?-q:s<e?q:0,0))}d.continuous&&m.transitions&&(G(D(s-1),-q,0),G(D(s+1),q,0)),m.transitions||(n.style.left=s*-q+"px"),c.style.visibility="visible",w(),x()}function z(){d.continuous?F(s-1):s&&F(s-1)}function A(){d.continuous?F(s+1):s<o.length-1&&F(s+1)}function B(a,b,c){d.callback&&d.callback(a,b,c)}function C(a,b){d.transitionEnd&&d.transitionEnd(a,b)}function D(a){return(o.length+a%o.length)%o.length}function E(){var a=s;return a>=r&&(a-=r),a}function F(a,b){if(a="number"!=typeof a?parseInt(a,10):a,s!==a){if(m.transitions){var c=Math.abs(s-a)/(s-a);if(d.continuous){var e=c;c=-p[D(a)]/q,c!==e&&(a=-c*o.length+a)}for(var f=Math.abs(s-a)-1;f--;)G(D((a>s?a:s)-f-1),q*c,0);a=D(a),G(s,q*c,b||t),G(a,0,b||t),d.continuous&&G(D(a-c),-(q*c),0)}else a=D(a),I(s*-q,a*-q,b||t);s=a,k(function(){B(E(),o[s],c)})}}function G(a,b,c){H(a,b,c),p[a]=b}function H(a,b,c){var d=o[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function I(a,b,c){if(!c)return void(n.style.left=b+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;return g>c?(n.style.left=b+"px",(h||d.autoRestart)&&L(),C(E(),o[s]),void clearInterval(f)):void(n.style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px")},4)}function J(){i=setTimeout(A,h)}function K(){h=0,clearTimeout(i)}function L(){K(),h=d.auto||0,J()}function M(a){return/^mouse/.test(a.type)}function N(){K(),c.style.visibility="",n.style.width="",n.style.left="";for(var a=o.length;a--;){m.transitions&&H(a,0,0);var b=o[a];if(b.getAttribute("data-cloned")){var d=b.parentElement;d.removeChild(b)}b.style.width="",b.style.left="",b.style.webkitTransitionDuration=b.style.MozTransitionDuration=b.style.msTransitionDuration=b.style.OTransitionDuration=b.style.transitionDuration="",b.style.webkitTransform=b.style.msTransform=b.style.MozTransform=b.style.OTransform=""}w(),u.cancel()}d=d||{};var g,i,e={},f={},h=d.auto||0,j=function(){},k=function(a){setTimeout(a||j,0)},l=function(a,b){function d(){c&&clearTimeout(c)}function e(){var e=this,f=arguments;d(),c=setTimeout(function(){c=null,a.apply(e,f)},b)}b=b||100;var c=null;return e.cancel=d,e},m={addEventListener:!!a.addEventListener,touch:"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(b.createElement("swipe"))};if(c){var o,p,q,r,n=c.children[0],s=parseInt(d.startSlide,10)||0,t=d.speed||300;d.continuous=void 0===d.continuous||d.continuous,d.autoRestart=void 0!==d.autoRestart&&d.autoRestart;var u=l(y),v={handleEvent:function(a){switch(a.type){case"mousedown":case"touchstart":this.start(a);break;case"mousemove":case"touchmove":this.move(a);break;case"mouseup":case"mouseleave":case"touchend":this.end(a);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(a);break;case"resize":u()}d.stopPropagation&&a.stopPropagation()},start:function(a){var b;M(a)?(b=a,a.preventDefault()):b=a.touches[0],e={x:b.pageX,y:b.pageY,time:+new Date},g=void 0,f={},M(a)?(n.addEventListener("mousemove",this,!1),n.addEventListener("mouseup",this,!1),n.addEventListener("mouseleave",this,!1)):(n.addEventListener("touchmove",this,!1),n.addEventListener("touchend",this,!1))},move:function(a){var b;if(M(a))b=a;else{if(a.touches.length>1||a.scale&&1!==a.scale)return;d.disableScroll&&a.preventDefault(),b=a.touches[0]}f={x:b.pageX-e.x,y:b.pageY-e.y},"undefined"==typeof g&&(g=!!(g||Math.abs(f.x)<Math.abs(f.y))),g||(a.preventDefault(),K(),d.continuous?(H(D(s-1),f.x+p[D(s-1)],0),H(s,f.x+p[s],0),H(D(s+1),f.x+p[D(s+1)],0)):(f.x=f.x/(!s&&f.x>0||s===o.length-1&&f.x<0?Math.abs(f.x)/q+1:1),H(s-1,f.x+p[s-1],0),H(s,f.x+p[s],0),H(s+1,f.x+p[s+1],0)))},end:function(a){var b=+new Date-e.time,c=Number(b)<250&&Math.abs(f.x)>20||Math.abs(f.x)>q/2,h=!s&&f.x>0||s===o.length-1&&f.x<0;d.continuous&&(h=!1);var i=Math.abs(f.x)/f.x;g||(c&&!h?(i<0?(d.continuous?(G(D(s-1),-q,0),G(D(s+2),q,0)):G(s-1,-q,0),G(s,p[s]-q,t),G(D(s+1),p[D(s+1)]-q,t),s=D(s+1)):(d.continuous?(G(D(s+1),q,0),G(D(s-2),-q,0)):G(s+1,q,0),G(s,p[s]+q,t),G(D(s-1),p[D(s-1)]+q,t),s=D(s-1)),B(E(),o[s],i)):d.continuous?(G(D(s-1),-q,t),G(s,0,t),G(D(s+1),q,t)):(G(s-1,-q,t),G(s,0,t),G(s+1,q,t))),M(a)?(n.removeEventListener("mousemove",v,!1),n.removeEventListener("mouseup",v,!1),n.removeEventListener("mouseleave",v,!1)):(n.removeEventListener("touchmove",v,!1),n.removeEventListener("touchend",v,!1))},transitionEnd:function(a){var b=parseInt(a.target.getAttribute("data-index"),10);b===s&&((h||d.autoRestart)&&L(),C(E(),o[s]))}};return y(),h&&J(),{setup:y,slide:function(a,b){K(),F(a,b)},prev:function(){K(),z()},next:function(){K(),A()},restart:L,stop:K,getPos:E,getNumSlides:function(){return r},kill:N}}}var a="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,b=a.document;return(a.jQuery||a.Zepto)&&!function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new c(a(this)[0],b))})}}(a.jQuery||a.Zepto),c});